<div class="add-therapist-flexbox">
    <img class="left-arrow" src="../../../assets/icons/left-arrow.svg">
    <h1 class="header-text">Add Therapist</h1>
</div>

<div class="card">
    <div class="card-body">
        <app-progress-bar [status]="gotonext"></app-progress-bar>

        <form #addTherapistForm="ngForm" (ngSubmit)="submit(addTherapistForm)">

        <div [hidden]="gotonext">
          <div class="title-class">
            <label class="label">Title<span class="span-imp">*</span></label>
            <select class="select select-sm title-select" name="title" [(ngModel)]="therapist.title" ngModel required>
                <option value="" disabled selected>Title</option>
                <option>Mr</option>
                <option>Ms</option>
            </select>
            </div>
            <div class="divider divide"></div>
            <div class="flex items-center justify-around flex-wrap">
                <div class="firstname">
                    <label class="label">First Name<span class="span-imp">*</span></label>
                    <input class="input title-select enter" name="firstname" placeholder="Enter your firstname" [(ngModel)]="therapist.firstName" ngModel required/>
                </div>
                <div class="lastname">
                    <label class="label">Last Name<span class="span-imp">*</span></label>
                    <input class="input title-select enter" name="lastname" placeholder="Enter your lastname" [(ngModel)]="therapist.lastName" ngModel required/>
                </div>
                <div class="email">
                    <label class="label">E-mail ID<span class="span-imp">*</span></label>
                    <input class="input title-select enter" name="email" placeholder="Enter your e-mail" [(ngModel)]="therapist.email" ngModel required/>
                </div>
            </div>
            <div class="flex items-center m-4 justify-around flex-wrap">
              <div class="mobile">
                <label class="label">Mobile Number<span class="span-imp">*</span></label>
                <input class="input title-select enter" name="mobile" placeholder="Enter your mobile number" [(ngModel)]="therapist.contactNo" ngModel required/>
              </div>
                <div>
                    <label class="label">Qualifications<span class="span-imp">*</span></label>
                    <tag-input
                      [(ngModel)]="items"
                      (click)="hello()"
                    >
                      <tag-input-dropdown
                        [autocompleteItems]="autocompleteItems"
                        [showDropdownIfEmpty]="false"
                        (onFocus)="hello()"
                      >
                      </tag-input-dropdown>
                    </tag-input>
                  </div>
                </div>
                <div class="divider divide"></div>
                <div class="flex items-stretch justify-around flex-wrap">
                  <div class="flex flex-col gap-8">
                    <div class="flex justify-between items-stretch">
                        <div class="flex flex-col mr-32 experience">
                          <label class="label">Years of Experience<span class="span-imp">*</span></label>
                        <input type="number" max="30" min="0" class="input title-select enter" name="experience" placeholder="Enter your experience in years" [(ngModel)]="therapist.yearsOfExperience" ngModel required/>
                      </div>
                      <div class="flex flex-col expertise">
                        <label class="label">Years of Expertise<span class="span-imp">*</span></label>
                        <select class="select select-sm h-12 form2-select" name="expertise">
                          <option disabled selected>Please select here</option>
                          <option>Trauma</option>
                          <option>PTSD</option>
                          <option>Anxiety</option>
                          <option>Stress</option>
                          <option>Self Harm</option>
                      </select>
                    </div>
                    </div>
                    <div class="flex items-center justify-start flex-wrap">
                    <div class="flex flex-col">
                      <label class="label">About Therapist<span class="span-imp">*</span></label>
                      <textarea class="textarea" name="about" placeholder="Enter short description here" [(ngModel)]="therapist.bio" ngModel required></textarea>
                    </div>
                    </div>
                  </div>
                  <div>
                    <label class="label">Upload Profile Picture<span class="span-imp">*</span></label>
                    <div class="flex p-6 border-dashed rounded-md upload-pic">
                      <img class="m-2 cursor-pointer" (click)="openFileExplorer()" src="../../../assets/icons/upload-pic.svg">
                      <div class="flex flex-col items-center">
                        <p>Browse to select file</p>
                        <p class="text-xs">Upload jpg/png Max 5MB*</p>
                      </div>
                      <input type="file" #fileInput style="display:none">
                    </div>
                  </div>
                </div>
                </div>
        
        <div [hidden]="!gotonext">
          
            <div class="divider divide"></div>
              <label class="label">Set Available Hours<span class="span-imp">*</span></label>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Monday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3" #checkbox />
                </div>
                <div class="flex flex-row my-1">
                  <input type="number" class="input title-select enter" name="monday-start" placeholder="Start timing" [(ngModel)]="availability[0].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="monday-end" placeholder="End timing" [(ngModel)]="availability[0].slot1End"/>
                  <img *ngIf="!availability[0].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('monday')">
                </div>
                <div *ngIf="availability[0].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number" class="input title-select enter" name="monday2-start" placeholder="Start timing" [(ngModel)]="availability[0].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="monday2-end" placeholder="End timing" [(ngModel)]="availability[0].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('monday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Tuesday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox/>
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="tuesday-start" placeholder="Start timing" [(ngModel)]="availability[1].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="tuesday-end" placeholder="End timing" [(ngModel)]="availability[1].slot1End"/>
                  <img *ngIf="!availability[1].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('tuesday')">
                </div>
                <div *ngIf="availability[1].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="tuesday2-start" placeholder="Start timing" [(ngModel)]="availability[1].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="tuesday2-end" placeholder="End timing" [(ngModel)]="availability[1].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('tuesday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Wednesday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox />
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="wednesday-start" placeholder="Start timing" [(ngModel)]="availability[2].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="wednesday-end" placeholder="End timing" [(ngModel)]="availability[2].slot1End"/>
                  <img *ngIf="!availability[2].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('wednesday')">
                </div>
                <div *ngIf="availability[2].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="wednesday2-end" placeholder="Start timing" [(ngModel)]="availability[2].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="wednesday2-end" placeholder="End timing" [(ngModel)]="availability[2].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('wednesday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Thursday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox />
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="thursday-start" placeholder="Start timing" [(ngModel)]="availability[3].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="thursday-end" placeholder="End timing" [(ngModel)]="availability[3].slot1End"/>
                  <img *ngIf="!availability[3].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('thursday')">
                </div>
                <div *ngIf="availability[3].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="thursday2-start" placeholder="Start timing" [(ngModel)]="availability[3].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="thursday2-end" placeholder="End timing" [(ngModel)]="availability[3].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('thursday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Friday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox />
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="friday-start" placeholder="Start timing" [(ngModel)]="availability[4].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="friday-end" placeholder="End timing" [(ngModel)]="availability[4].slot1End"/>
                  <img *ngIf="!availability[4].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('friday')">
                </div>
                <div *ngIf="availability[4].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="friday2-start" placeholder="Start timing" [(ngModel)]="availability[4].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="friday2-end" placeholder="End timing" [(ngModel)]="availability[4].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('friday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Saturday</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox/>
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="saturday-start" placeholder="Start timing" [(ngModel)]="availability[5].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="saturday-end" placeholder="End timing" [(ngModel)]="availability[5].slot1End"/>
                  <img *ngIf="!availability[5].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('saturday')">
                </div>
                <div *ngIf="availability[5].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="saturday2-start" placeholder="Start timing" [(ngModel)]="availability[5].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="saturday2-end" placeholder="End timing" [(ngModel)]="availability[5].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('saturday')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">Mon-Fri</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox/>
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="monfri-start" placeholder="Start timing" [(ngModel)]="availability[6].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="monfri-end" placeholder="End timing" [(ngModel)]="availability[6].slot1End"/>
                  <img *ngIf="!availability[6].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('monfri')">
                </div>
                <div *ngIf="availability[6].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="monfri2-start" placeholder="Start timing" [(ngModel)]="availability[6].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="monfri2-end" placeholder="End timing" [(ngModel)]="availability[6].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('monfri')" >
                </div>
              </div>
              <div class="flex flex-row items-center">
                <div class="flex flex-row w-1/5 justify-between">
                  <label class="label day-label m-2">All Days</label>
                  <input type="checkbox" value="monday" class="switch switch-xs flex gap-3"  #checkbox/>
                </div>
                <div class="flex flex-row my-1">
                  <input type="number"  step="1" class="input title-select enter" name="alldays-start" placeholder="Start timing" [(ngModel)]="availability[7].slot1Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="alldays-end" placeholder="End timing" [(ngModel)]="availability[7].slot1End"/>
                  <img *ngIf="!availability[7].ifSlot2" src="../../../assets/icons/plus.svg" class="mx-4 cursor-pointer" (click)="add('alldays')">
                </div>
                <div *ngIf="availability[7].ifSlot2" class="flex flex-row ml-12 my-1">
                  <input type="number"  step="1" class="input title-select enter" name="alldays2-start" placeholder="Start timing" [(ngModel)]="availability[7].slot2Start"/>
                  <label class="label day-label m-2">To</label>
                  <input type="number" class="input title-select enter" name="alldays2-end" placeholder="End timing" [(ngModel)]="availability[7].slot2End"/>
                  <img src="../../../assets/icons/cross-icon.svg" class="mx-4 cursor-pointer" (click)="remove('alldays')" >
                </div>
              </div>

              <div class="flex flex-row items-center justify-between">
                <div class="flex flex-row w-1/4 justify-between">
                  <label class="label m-2">Flexible With Timings</label>
                  <input type="checkbox" class="switch switch-sm flex gap-3" (change)="flexible($event)"/>
                </div>
                <div>
                  <button type="button" class="btn btn-primary btn-block reset-button" (click)="reset()">Reset All</button>
                </div>
              </div>

              <div class="divider divide"></div>

        
              <div class="flex flex-row w-1/4 mb-4 justify-between">
                  <label class="label m-2">Therapist Available</label>
                  <input type="checkbox" class="switch switch-sm flex gap-3" (change)="available($event)"/>
              </div>
              
              <label class="label mb-4">Preferred Mode of Therapy<span class="span-imp">*</span></label>
              <div class="flex flex-row w-4/12 justify-between">
                <div class="flex flex-wrap cursor-pointer gap-4">
                  <input type="checkbox" name="mode1" value="audio" class="checkbox checkbox-sm" ngModel />
                  <span class="checkbox-span">Audio Call</span>
                </div>
                <div class="flex flex-wrap cursor-pointer gap-4">
                  <input type="checkbox" name="mode2" value="video" class="checkbox checkbox-sm" ngModel />
                  <span class="checkbox-span">Video Call</span>
                </div>
                <div class="flex flex-wrap cursor-pointer gap-4">
                  <input type="checkbox" name="mode3" value="chat" class="checkbox checkbox-sm" ngModel />
                  <span class="checkbox-span">Chat</span>
                </div>
              </div>
        </div>    
        <div class="flex justify-end">
          <button type="button" class="btn btn-primary btn-block" [disabled]="!gotonext" (click)="previous()">Previous</button>
          <button *ngIf="gotonext" class="btn btn-primary btn-block previous" [disabled]="!addTherapistForm.valid">Save and Submit</button>
          <button type="button" *ngIf="!gotonext" class="btn btn-primary btn-block previous" (click)="next()">Save and Continue</button>
        </div>
      </form>
      </div> 
        <!-- <div class="autocomplete">
            <div class="chips-input-container">
            <div class="user-chip" *ngFor="let user of userSelects">
              {{user.name}}
              <span (click)="deleteSelects(user)" class="delete-icon-chip">&#10006;</span>
            </div>
        
            <input name="suggestion" type="text" placeholder="User" (click)="suggest()" [(ngModel)]="userSelectsString">
            </div>
        
            <div class="autocomplete-items" *ngIf="show">
              <div *ngFor="let s of suggestions" [ngClass]="isSelected(s) ? 'selected-suggestion' : ''" (click)="selectSuggestion(s)">{{ s.name }}</div>
            </div>
        </div> -->
        
</div>
